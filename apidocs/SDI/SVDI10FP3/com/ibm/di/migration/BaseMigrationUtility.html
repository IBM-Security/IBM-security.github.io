<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.19) on Thu Sep 14 00:17:15 UTC 2023 -->
<title>BaseMigrationUtility (IBM Security Verify Directory Integrator API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-09-14">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BaseMigrationUtility (IBM Security Verify Directory Integrator API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":6,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BaseMigrationUtility.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.ibm.di.migration</a></div>
<h2 title="Class BaseMigrationUtility" class="title">Class BaseMigrationUtility</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.ibm.di.migration.BaseMigrationUtility</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="../migam/MigrateAmConfig.html" title="class in com.ibm.di.migam">MigrateAmConfig</a></code>, <code><a href="plugin/PluginMigrationUtility.html" title="class in com.ibm.di.migration.plugin">PluginMigrationUtility</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">BaseMigrationUtility</span>
extends java.lang.Object</pre>
<div class="block">This is a base class which could be extended in order to provide an utility
 for migrating configuration files. This class provides the ability to work
 with Java properties files (descendant classes can change this). It expects
 the child classes to define the changes, that will be done over the
 configuration file, using the <a href="#defineChanges(java.util.Map)"><code>defineChanges(Map)</code></a> method.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>TDI 7.1</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="../server/ResourceHash.html" title="class in com.ibm.di.server">ResourceHash</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resHash">resHash</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#SWITCH_HELP">SWITCH_HELP</a></span></code></th>
<td class="colLast">
<div class="block">The switch used for requesting help information.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#SWITCH_MIG_FILE">SWITCH_MIG_FILE</a></span></code></th>
<td class="colLast">
<div class="block">The switch used for providing the source file to be migrated.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#SWITCH_MIG_FILE_BAKUP">SWITCH_MIG_FILE_BAKUP</a></span></code></th>
<td class="colLast">
<div class="block">The switch used for providing the name of the backup file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#SWITCH_MIG_FILE_NEW">SWITCH_MIG_FILE_NEW</a></span></code></th>
<td class="colLast">
<div class="block">The switch used for providing the name of the file used for output of the
 migration.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#SWITCH_VERBOSE">SWITCH_VERBOSE</a></span></code></th>
<td class="colLast">
<div class="block">The switch used for enabling verbose output.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String%5B%5D,org.apache.log4j.Logger)">BaseMigrationUtility</a></span>&#8203;(java.lang.String[]&nbsp;args,
                    org.apache.log4j.Logger&nbsp;log)</code></th>
<td class="colLast">
<div class="block">Create an instance by passing in the command line arguments.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#applyChanges(java.lang.StringBuilder,java.util.Map,java.util.List)">applyChanges</a></span>&#8203;(java.lang.StringBuilder&nbsp;sb,
            java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;props,
            java.util.List&lt;<a href="ChangeDescription.html" title="class in com.ibm.di.migration">ChangeDescription</a>&gt;&nbsp;chngs)</code></th>
<td class="colLast">
<div class="block">Called to apply the defined changes to the in-memory buffer.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#backupFile()">backupFile</a></span>()</code></th>
<td class="colLast">
<div class="block">Called to create a copy of the source file.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected abstract java.util.List&lt;<a href="ChangeDescription.html" title="class in com.ibm.di.migration">ChangeDescription</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#defineChanges(java.util.Map)">defineChanges</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;props)</code></th>
<td class="colLast">
<div class="block">Defines the changes that will be done over the properties of the source
 file.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCommandStandaloneValuesList()">getCommandStandaloneValuesList</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCommandValueBySwitch(java.lang.String)">getCommandValueBySwitch</a></span>&#8203;(java.lang.String&nbsp;switchStr)</code></th>
<td class="colLast">
<div class="block">Requests the value of the switch which have been passed to the command
 line.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>org.apache.log4j.Logger</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLog()">getLog</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#interpretCommandLineOptions()">interpretCommandLineOptions</a></span>()</code></th>
<td class="colLast">
<div class="block">Called to parse the passed command line arguments.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isHelpRequested()">isHelpRequested</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isSwitch(java.lang.String)">isSwitch</a></span>&#8203;(java.lang.String&nbsp;arg)</code></th>
<td class="colLast">
<div class="block">Checks whether the specified string complies with the syntax of a command
 line switch.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isVerboseMode()">isVerboseMode</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#migrateFile()">migrateFile</a></span>()</code></th>
<td class="colLast">
<div class="block">This is the entry point which drives the common flow of a standard
 migration utility.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#parseArgs(java.lang.String%5B%5D)">parseArgs</a></span>&#8203;(java.lang.String[]&nbsp;args)</code></th>
<td class="colLast">
<div class="block">Parses the command line arguments by filling <a href="#commandLineOptions"><code>commandLineOptions</code></a>
 and <a href="#commandValuesList"><code>commandValuesList</code></a> structures.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#parseFile(java.io.File)">parseFile</a></span>&#8203;(java.io.File&nbsp;srcFile)</code></th>
<td class="colLast">
<div class="block">Parses the source file.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#parseFile(java.io.InputStream)">parseFile</a></span>&#8203;(java.io.InputStream&nbsp;source)</code></th>
<td class="colLast">
<div class="block">Parses the source stream.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#performPropertyAddition(java.lang.StringBuilder,java.util.Map,com.ibm.di.migration.ChangeDescription)">performPropertyAddition</a></span>&#8203;(java.lang.StringBuilder&nbsp;sb,
                       java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;props,
                       <a href="ChangeDescription.html" title="class in com.ibm.di.migration">ChangeDescription</a>&nbsp;change)</code></th>
<td class="colLast">
<div class="block">Perform actual addition of the new property.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#performPropertyCommenting(java.lang.StringBuilder,java.util.Map,com.ibm.di.migration.ChangeDescription)">performPropertyCommenting</a></span>&#8203;(java.lang.StringBuilder&nbsp;sb,
                         java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;props,
                         <a href="ChangeDescription.html" title="class in com.ibm.di.migration">ChangeDescription</a>&nbsp;change)</code></th>
<td class="colLast">
<div class="block">Perform actual commenting of an existing property.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#performPropertyDeletion(java.lang.StringBuilder,java.util.Map,com.ibm.di.migration.ChangeDescription)">performPropertyDeletion</a></span>&#8203;(java.lang.StringBuilder&nbsp;sb,
                       java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;propsAvailable,
                       <a href="ChangeDescription.html" title="class in com.ibm.di.migration">ChangeDescription</a>&nbsp;change)</code></th>
<td class="colLast">
<div class="block">Perform actual deletion of the existing property.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#performPropertyModification(java.lang.StringBuilder,java.util.Map,com.ibm.di.migration.ChangeDescription)">performPropertyModification</a></span>&#8203;(java.lang.StringBuilder&nbsp;sb,
                           java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;props,
                           <a href="ChangeDescription.html" title="class in com.ibm.di.migration">ChangeDescription</a>&nbsp;change)</code></th>
<td class="colLast">
<div class="block">Perform actual modification of the existing property.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#performPropertyUncommenting(java.lang.StringBuilder,java.util.Map,com.ibm.di.migration.ChangeDescription)">performPropertyUncommenting</a></span>&#8203;(java.lang.StringBuilder&nbsp;sb,
                           java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;props,
                           <a href="ChangeDescription.html" title="class in com.ibm.di.migration">ChangeDescription</a>&nbsp;change)</code></th>
<td class="colLast">
<div class="block">Perform actual uncommenting of the commented property.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#printHelpInformation()">printHelpInformation</a></span>()</code></th>
<td class="colLast">
<div class="block">Called to print the help information to the stdOut.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected java.lang.StringBuilder</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readFile(java.io.File)">readFile</a></span>&#8203;(java.io.File&nbsp;srcFile)</code></th>
<td class="colLast">
<div class="block">Called to read the configuration file and put its content into the
 returned <code>StringBuilder</code>.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setLog(org.apache.log4j.Logger)">setLog</a></span>&#8203;(org.apache.log4j.Logger&nbsp;log)</code></th>
<td class="colLast">
<div class="block">Sets the provided log for this utility.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#validateCommandLineOptions()">validateCommandLineOptions</a></span>()</code></th>
<td class="colLast">
<div class="block">Called to check whether the parsed arguments are valid enough for the
 migration utility to continue.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeFile(java.lang.StringBuilder)">writeFile</a></span>&#8203;(java.lang.StringBuilder&nbsp;sb)</code></th>
<td class="colLast">
<div class="block">Called to write the in-memory buffer to the destination file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="resHash">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resHash</h4>
<pre>protected static final&nbsp;<a href="../server/ResourceHash.html" title="class in com.ibm.di.server">ResourceHash</a> resHash</pre>
</li>
</ul>
<a id="SWITCH_MIG_FILE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SWITCH_MIG_FILE</h4>
<pre>protected static final&nbsp;java.lang.String SWITCH_MIG_FILE</pre>
<div class="block">The switch used for providing the source file to be migrated.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.ibm.di.migration.BaseMigrationUtility.SWITCH_MIG_FILE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="SWITCH_MIG_FILE_BAKUP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SWITCH_MIG_FILE_BAKUP</h4>
<pre>protected static final&nbsp;java.lang.String SWITCH_MIG_FILE_BAKUP</pre>
<div class="block">The switch used for providing the name of the backup file.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.ibm.di.migration.BaseMigrationUtility.SWITCH_MIG_FILE_BAKUP">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="SWITCH_MIG_FILE_NEW">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SWITCH_MIG_FILE_NEW</h4>
<pre>protected static final&nbsp;java.lang.String SWITCH_MIG_FILE_NEW</pre>
<div class="block">The switch used for providing the name of the file used for output of the
 migration.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.ibm.di.migration.BaseMigrationUtility.SWITCH_MIG_FILE_NEW">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="SWITCH_VERBOSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SWITCH_VERBOSE</h4>
<pre>protected static final&nbsp;java.lang.String SWITCH_VERBOSE</pre>
<div class="block">The switch used for enabling verbose output.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.ibm.di.migration.BaseMigrationUtility.SWITCH_VERBOSE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="SWITCH_HELP">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SWITCH_HELP</h4>
<pre>protected static final&nbsp;java.lang.String SWITCH_HELP</pre>
<div class="block">The switch used for requesting help information.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.ibm.di.migration.BaseMigrationUtility.SWITCH_HELP">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.lang.String[],org.apache.log4j.Logger)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BaseMigrationUtility</h4>
<pre>public&nbsp;BaseMigrationUtility&#8203;(java.lang.String[]&nbsp;args,
                            org.apache.log4j.Logger&nbsp;log)</pre>
<div class="block">Create an instance by passing in the command line arguments.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - the command line arguments passed to the main method of the
            implementing class.</dd>
<dd><code>log</code> - the destination to log into. If this is null a new log will be
            created.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="parseArgs(java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseArgs</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;parseArgs&#8203;(java.lang.String[]&nbsp;args)</pre>
<div class="block">Parses the command line arguments by filling <a href="#commandLineOptions"><code>commandLineOptions</code></a>
 and <a href="#commandValuesList"><code>commandValuesList</code></a> structures.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - the array of all the command line arguments.</dd>
</dl>
</li>
</ul>
<a id="isSwitch(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSwitch</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;isSwitch&#8203;(java.lang.String&nbsp;arg)</pre>
<div class="block">Checks whether the specified string complies with the syntax of a command
 line switch.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>arg</code> - the string to check.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the passed argument is a switch,
         <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a id="getCommandStandaloneValuesList()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommandStandaloneValuesList</h4>
<pre class="methodSignature">protected&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getCommandStandaloneValuesList()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of all the command line arguments which have not been
         prepended with a switch. This method returns the actual reference
         to the internal list.</dd>
</dl>
</li>
</ul>
<a id="getCommandValueBySwitch(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommandValueBySwitch</h4>
<pre class="methodSignature">protected&nbsp;java.lang.String&nbsp;getCommandValueBySwitch&#8203;(java.lang.String&nbsp;switchStr)</pre>
<div class="block">Requests the value of the switch which have been passed to the command
 line.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>switchStr</code> - the switch which value to look for.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value as String, empty string (meaning that the switch is
         stand alone) or <code>null</code> (meaning no such switch has been
         provided).</dd>
</dl>
</li>
</ul>
<a id="setLog(org.apache.log4j.Logger)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLog</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;setLog&#8203;(org.apache.log4j.Logger&nbsp;log)</pre>
<div class="block">Sets the provided log for this utility. If null a default log is
 initialized.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>log</code> - the log for this utility to use. Could be <code>null</code>
            which will create a new log automatically.</dd>
</dl>
</li>
</ul>
<a id="getLog()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLog</h4>
<pre class="methodSignature">public&nbsp;org.apache.log4j.Logger&nbsp;getLog()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the reference to the log object.</dd>
</dl>
</li>
</ul>
<a id="isVerboseMode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isVerboseMode</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isVerboseMode()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the user has requested more verbose logging.</dd>
</dl>
</li>
</ul>
<a id="migrateFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>migrateFile</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;migrateFile()</pre>
<div class="block">This is the entry point which drives the common flow of a standard
 migration utility. If the user has requested help information using the
 <a href="#SWITCH_HELP"><code>SWITCH_HELP</code></a> switch this method will return ignoring all the
 other switches that might have been provided.<br>
 <br>
 The standard flow is as follows:
 <ul>
 <li> <a href="#interpretCommandLineOptions()"><code>interpretCommandLineOptions()</code></a></li>
 </ul>
 <ul>
 -- Help is requested --
 <li><a href="#printHelpInformation()"><code>printHelpInformation()</code></a></li>
 </ul>
 <ul>
 -- Help is not requested --
 <li><a href="#validateCommandLineOptions()"><code>validateCommandLineOptions()</code></a></li>
 <li><a href="#backupFile()"><code>backupFile()</code></a></li>
 <li> <a href="#parseFile(java.io.File)"><code>parseFile(File)</code></a></li>
 <li><a href="#defineChanges(java.util.Map)"><code>defineChanges(Map)</code></a></li>
 <li> <a href="#readFile(java.io.File)"><code>readFile(File)</code></a></li>
 <li>
 <a href="#findEndOfLineCharacterSequence(java.lang.StringBuilder)"><code>findEndOfLineCharacterSequence(StringBuilder)</code></a></li>
 <li>
 <code>#applyChanges(StringBuilder, Map, Map)</code></li>
 <li>
 <a href="#writeFile(java.lang.StringBuilder)"><code>writeFile(StringBuilder)</code></a></li>
 </ul></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if an argument provided to the command line is invalid.</dd>
<dd><code>java.lang.RuntimeException</code> - if an error occurs while manipulating files.</dd>
</dl>
</li>
</ul>
<a id="applyChanges(java.lang.StringBuilder,java.util.Map,java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyChanges</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;applyChanges&#8203;(java.lang.StringBuilder&nbsp;sb,
                            java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;props,
                            java.util.List&lt;<a href="ChangeDescription.html" title="class in com.ibm.di.migration">ChangeDescription</a>&gt;&nbsp;chngs)</pre>
<div class="block">Called to apply the defined changes to the in-memory buffer. This could
 be overrided by the child class to get access to the updated in-memory
 buffer if there is the need to make some changes unsupported by the
 current design.<br>
 <br>
 The default implementation applies the changes in the following way:
 <ol>
 <li><b>Comment</b> - Searches for an existing (uncommented) property and
 comments it (if not found this operation is ignored). If the value is on
 multiple lines this operation will comment each new line if the previous
 ends with "\"</li>
 <li><b>Uncomment</b> - Searches for an existing (commented) property and
 uncomments it (if not found this operation is ignored). If the value is
 on multiple lines this operation will comment each new line if the
 previous ends with "\"</li>
 <li><b>Add</b> -</li>
 <li><b>Modify</b> -</li>
 <li><b>Delete</b> -</li>
 </ol></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sb</code> - the in-memory representation of the source file</dd>
<dd><code>props</code> - the <code>Map</code> of properties read from the source file.
            <b>Note</b> this is an immutable representation of the map.</dd>
<dd><code>chngs</code> - the changes defined by the descendant class using the method
            <a href="#defineChanges(java.util.Map)"><code>defineChanges(Map)</code></a>;</dd>
</dl>
</li>
</ul>
<a id="performPropertyUncommenting(java.lang.StringBuilder,java.util.Map,com.ibm.di.migration.ChangeDescription)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performPropertyUncommenting</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;performPropertyUncommenting&#8203;(java.lang.StringBuilder&nbsp;sb,
                                           java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;props,
                                           <a href="ChangeDescription.html" title="class in com.ibm.di.migration">ChangeDescription</a>&nbsp;change)</pre>
<div class="block">Perform actual uncommenting of the commented property. Unable to
 uncomment properties with multi-line values.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sb</code> - the <code>StringBuffer</code> to perform the change on.</dd>
<dd><code>props</code> - the state of the <code>StringBuffer</code> as a <code>Properties</code>
            structure.</dd>
<dd><code>changeKey</code> - the key of the property to uncomment</dd>
</dl>
</li>
</ul>
<a id="performPropertyCommenting(java.lang.StringBuilder,java.util.Map,com.ibm.di.migration.ChangeDescription)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performPropertyCommenting</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;performPropertyCommenting&#8203;(java.lang.StringBuilder&nbsp;sb,
                                         java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;props,
                                         <a href="ChangeDescription.html" title="class in com.ibm.di.migration">ChangeDescription</a>&nbsp;change)</pre>
<div class="block">Perform actual commenting of an existing property.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sb</code> - the <code>StringBuffer</code> to perform the change on.</dd>
<dd><code>props</code> - the state of the <code>StringBuffer</code> as a <code>Properties</code>
            structure.</dd>
<dd><code>change</code> - .getPropertyKey() the key of the property to comment</dd>
</dl>
</li>
</ul>
<a id="performPropertyAddition(java.lang.StringBuilder,java.util.Map,com.ibm.di.migration.ChangeDescription)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performPropertyAddition</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;performPropertyAddition&#8203;(java.lang.StringBuilder&nbsp;sb,
                                       java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;props,
                                       <a href="ChangeDescription.html" title="class in com.ibm.di.migration">ChangeDescription</a>&nbsp;change)</pre>
<div class="block">Perform actual addition of the new property.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sb</code> - the <code>StringBuffer</code> to perform the change on.</dd>
<dd><code>props</code> - the state of the <code>StringBuffer</code> as a <code>Properties</code>
            structure.</dd>
<dd><code>changeKey</code> - the key of the property to add</dd>
<dd><code>changeValue</code> - specifies how the property should be added as well as its
            value.</dd>
</dl>
</li>
</ul>
<a id="performPropertyModification(java.lang.StringBuilder,java.util.Map,com.ibm.di.migration.ChangeDescription)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performPropertyModification</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;performPropertyModification&#8203;(java.lang.StringBuilder&nbsp;sb,
                                           java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;props,
                                           <a href="ChangeDescription.html" title="class in com.ibm.di.migration">ChangeDescription</a>&nbsp;change)</pre>
<div class="block">Perform actual modification of the existing property.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sb</code> - the <code>StringBuffer</code> to perform the change on.</dd>
<dd><code>props</code> - the state of the <code>StringBuffer</code> as a <code>Properties</code>
            structure.</dd>
<dd><code>changeKey</code> - the key of the property to modify</dd>
<dd><code>newValue</code> - the value to set on the existing property.</dd>
</dl>
</li>
</ul>
<a id="performPropertyDeletion(java.lang.StringBuilder,java.util.Map,com.ibm.di.migration.ChangeDescription)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performPropertyDeletion</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;performPropertyDeletion&#8203;(java.lang.StringBuilder&nbsp;sb,
                                       java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;propsAvailable,
                                       <a href="ChangeDescription.html" title="class in com.ibm.di.migration">ChangeDescription</a>&nbsp;change)</pre>
<div class="block">Perform actual deletion of the existing property.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sb</code> - the <code>StringBuffer</code> to perform the change on.</dd>
<dd><code>props</code> - the state of the <code>StringBuffer</code> as a <code>Properties</code>
            structure.</dd>
<dd><code>changeKey</code> - the key of the property to modify</dd>
<dd><code>deletingComments</code> - </dd>
</dl>
</li>
</ul>
<a id="parseFile(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseFile</h4>
<pre class="methodSignature">protected&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;parseFile&#8203;(java.io.File&nbsp;srcFile)</pre>
<div class="block">Parses the source file. <br>
 <br>
 The default implementation uses the <code>Properties</code> class to parse the
 source file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcFile</code> - the file to parse.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>Map</code> of all the properties from the source file.</dd>
</dl>
</li>
</ul>
<a id="parseFile(java.io.InputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseFile</h4>
<pre class="methodSignature">protected&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;parseFile&#8203;(java.io.InputStream&nbsp;source)
                                                                    throws java.io.IOException</pre>
<div class="block">Parses the source stream. <br>
 <br>
 The default implementation uses the <code>Properties</code> class to parse the
 source stream.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>source</code> - the input stream to read from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>Map</code> of all the properties from the source stream.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="interpretCommandLineOptions()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>interpretCommandLineOptions</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;interpretCommandLineOptions()</pre>
<div class="block">Called to parse the passed command line arguments. <br>
 <br>
 The default implementation is to get the values of the common switches:
 <a href="#SWITCH_HELP"><code>SWITCH_HELP</code></a>, <a href="#SWITCH_MIG_FILE_BAKUP"><code>SWITCH_MIG_FILE_BAKUP</code></a>,
 <a href="#SWITCH_MIG_FILE_NEW"><code>SWITCH_MIG_FILE_NEW</code></a>, <a href="#SWITCH_MIG_FILE"><code>SWITCH_MIG_FILE</code></a> and
 <a href="#SWITCH_VERBOSE"><code>SWITCH_VERBOSE</code></a>
 
 <br>
 The <a href="#SWITCH_HELP"><code>SWITCH_HELP</code></a> is checked first, if it is specified then the
 rest of the common switches will not be considered.</div>
</li>
</ul>
<a id="validateCommandLineOptions()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateCommandLineOptions</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;validateCommandLineOptions()</pre>
<div class="block">Called to check whether the parsed arguments are valid enough for the
 migration utility to continue. If an invalid argument is found an
 <code>IllegalArgumentException</code> should be thrown.
 
 <br>
 <br>
 The default implementation checks the validity of the common command line
 parameters - file names, existence, permissions, etc.</div>
</li>
</ul>
<a id="backupFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backupFile</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;backupFile()</pre>
<div class="block">Called to create a copy of the source file. <br>
 <br>
 The default implementation checks if the source and the destination files
 match. If they do the source file is only renamed to the backup file. If
 they don't the source file is copied as the backup file.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if an error occurs manipulating the files provided by the
             user.</dd>
<dd><code>java.lang.RuntimeException</code> - if an error occurs while reading/writing the backup file.</dd>
</dl>
</li>
</ul>
<a id="readFile(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readFile</h4>
<pre class="methodSignature">protected&nbsp;java.lang.StringBuilder&nbsp;readFile&#8203;(java.io.File&nbsp;srcFile)</pre>
<div class="block">Called to read the configuration file and put its content into the
 returned <code>StringBuilder</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcFile</code> - the file to read.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>StringBuilder</code> holding the file content.</dd>
</dl>
</li>
</ul>
<a id="writeFile(java.lang.StringBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeFile</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;writeFile&#8203;(java.lang.StringBuilder&nbsp;sb)</pre>
<div class="block">Called to write the in-memory buffer to the destination file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sb</code> - the in-memory representation of the source file</dd>
</dl>
</li>
</ul>
<a id="printHelpInformation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>printHelpInformation</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;printHelpInformation()</pre>
<div class="block">Called to print the help information to the stdOut.</div>
</li>
</ul>
<a id="isHelpRequested()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isHelpRequested</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isHelpRequested()</pre>
</li>
</ul>
<a id="defineChanges(java.util.Map)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>defineChanges</h4>
<pre class="methodSignature">protected abstract&nbsp;java.util.List&lt;<a href="ChangeDescription.html" title="class in com.ibm.di.migration">ChangeDescription</a>&gt;&nbsp;defineChanges&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;props)</pre>
<div class="block">Defines the changes that will be done over the properties of the source
 file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>props</code> - the <code>Map</code> of properties read from the source file.
            <b>Note</b> this is an immutable representation of the map.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>Map</code> defining the changes that will be done. The keys of
         this map represent the names of the properties. The corresponding
         values describe the particular changes that should be done done
         over the specific property. Must not be <code>null</code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="ChangeDescription.html" title="class in com.ibm.di.migration"><code>ChangeDescription</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
